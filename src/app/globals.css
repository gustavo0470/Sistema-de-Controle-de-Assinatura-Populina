@import url('https://fonts.googleapis.com/css2?family=PT+Sans:wght@400;700&family=Playfair+Display:wght@400;500;600;700;800;900&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-0;
  }
  
  body {
    @apply bg-gray-50 text-gray-900 font-sans;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-display;
  }
}

@layer components {
  .btn-primary {
    @apply bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-secondary {
    @apply bg-gray-100 hover:bg-gray-200 text-gray-900 font-medium py-2 px-4 rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-danger {
    @apply bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .input-field {
    @apply w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200;
  }

  .form-group {
    @apply mb-4;
  }

  .form-label {
    @apply block text-sm font-medium text-gray-700 mb-1;
  }

  .form-error {
    @apply text-red-600 text-sm mt-1;
  }

  .card {
    @apply bg-white rounded-lg shadow-sm border border-gray-200 p-6;
  }

  .card-header {
    @apply border-b border-gray-200 pb-4 mb-4;
  }

  .table-container {
    @apply overflow-x-auto bg-white rounded-lg shadow-sm border border-gray-200 mobile-scroll;
  }

  .table {
    @apply min-w-full divide-y divide-gray-200;
  }

  .table-header {
    @apply bg-gray-50;
  }

  .table-header-cell {
    @apply px-3 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider;
  }

  .table-body {
    @apply bg-white divide-y divide-gray-200;
  }

  .table-cell {
    @apply px-3 md:px-6 py-4 text-sm text-gray-900;
  }
  
  .table-cell-nowrap {
    @apply px-3 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900;
  }

  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-success {
    @apply bg-green-100 text-green-800;
  }

  .badge-warning {
    @apply bg-yellow-100 text-yellow-800;
  }

  .badge-danger {
    @apply bg-red-100 text-red-800;
  }

  .badge-info {
    @apply bg-blue-100 text-blue-800;
  }

  .modal-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 mobile-scroll;
  }

  .modal-content {
    @apply bg-white rounded-lg shadow-xl w-full mx-auto p-4 md:p-6 max-h-[90vh] overflow-y-auto mobile-scroll;
    max-width: min(90vw, 500px);
  }
  
  .modal-content-large {
    @apply bg-white rounded-lg shadow-xl w-full mx-auto p-4 md:p-6 max-h-[85vh] overflow-y-auto mobile-scroll;
    max-width: min(95vw, 800px);
  }
  
  .modal-content-xl {
    @apply bg-white rounded-lg shadow-xl w-full mx-auto p-4 md:p-6 max-h-[90vh] overflow-y-auto mobile-scroll;
    max-width: min(98vw, 1200px);
  }

  .sidebar {
    @apply bg-white border-r border-gray-200 w-64 min-h-screen fixed left-0 top-0 z-40;
  }

  .sidebar-mobile {
    @apply transform -translate-x-full transition-transform duration-300 ease-in-out;
  }

  .sidebar-mobile.open {
    @apply translate-x-0;
  }

  .nav-item {
    @apply flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors duration-200;
  }

  .nav-item.active {
    @apply bg-primary-50 text-primary-700 border-r-2 border-primary-600;
  }

  .loading-spinner {
    @apply animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600;
  }

  .notification {
    @apply fixed top-4 right-4 max-w-sm z-50 transform transition-all duration-300 ease-in-out;
  }

  .notification-success {
    @apply bg-green-50 border border-green-200 text-green-800;
  }

  .notification-error {
    @apply bg-red-50 border border-red-200 text-red-800;
  }

  .notification-warning {
    @apply bg-yellow-50 border border-yellow-200 text-yellow-800;
  }

  .notification-info {
    @apply bg-blue-50 border border-blue-200 text-blue-800;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Animações */
  .fade-in {
    animation: fadeIn 0.3s ease-in-out;
  }

  .slide-in-right {
    animation: slideInRight 0.3s ease-out;
  }

  .slide-in-left {
    animation: slideInLeft 0.3s ease-out;
  }

  .bounce-in {
    animation: bounceIn 0.5s ease-out;
  }

  .pulse-slow {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  /* Otimizações mobile */
  .touch-optimization {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }

  .mobile-scroll {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }

  /* Hover apenas em dispositivos que suportam */
  @media (hover: hover) {
    .hover-scale:hover {
      transform: scale(1.05);
    }

    .hover-lift:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.1);
    }
  }

  /* Responsividade aprimorada */
  @media (max-width: 640px) {
    .mobile-full {
      width: 100% !important;
      margin-left: 0 !important;
      margin-right: 0 !important;
    }

    .mobile-hide {
      display: none !important;
    }

    .mobile-text-sm {
      font-size: 0.875rem !important;
    }
    
    .mobile-text-xs {
      font-size: 0.75rem !important;
    }

    .mobile-p-2 {
      padding: 0.5rem !important;
    }
    
    .mobile-p-3 {
      padding: 0.75rem !important;
    }
    
    .mobile-px-2 {
      padding-left: 0.5rem !important;
      padding-right: 0.5rem !important;
    }
    
    .mobile-py-2 {
      padding-top: 0.5rem !important;
      padding-bottom: 0.5rem !important;
    }
    
    .mobile-stack {
      flex-direction: column !important;
    }
    
    .mobile-space-y-2 > * + * {
      margin-top: 0.5rem !important;
    }
    
    .modal-content {
      margin: 1rem !important;
      padding: 1rem !important;
      max-height: 85vh !important;
    }
    
    .modal-content-large {
      margin: 0.5rem !important;
      padding: 1rem !important;
      max-height: 90vh !important;
    }
    
    .mobile-grid-1 {
      grid-template-columns: repeat(1, minmax(0, 1fr)) !important;
    }
    
    .mobile-gap-2 {
      gap: 0.5rem !important;
    }
    
    .table-cell {
      padding: 0.5rem !important;
      white-space: normal !important;
      word-break: break-word !important;
    }
    
    .table-header-cell {
      padding: 0.5rem !important;
    }
  }
  
  @media (max-width: 768px) {
    .tablet-grid-1 {
      grid-template-columns: repeat(1, minmax(0, 1fr)) !important;
    }
    
    .tablet-grid-2 {
      grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
    }
    
    .tablet-stack {
      flex-direction: column !important;
    }
  }
}

/* Keyframes para animações */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideInRight {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slideInLeft {
  from {
    transform: translateX(-100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes bounceIn {
  0% {
    transform: scale(0.3);
    opacity: 0;
  }
  50% {
    transform: scale(1.05);
  }
  70% {
    transform: scale(0.9);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Performance optimizations */
* {
  box-sizing: border-box;
}

img, video {
  max-width: 100%;
  height: auto;
}

button, input, select, textarea {
  font-family: inherit;
}

/* Loading states */
.skeleton {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: loading 1.5s infinite;
}

@keyframes loading {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}
